version: "3.0"

stories:
  - story: happy path
    steps:
    - intent: greet
    - action: utter_greet
    - intent: mood_great
    - action: utter_happy
    - intent: query_knowledge_base
    - action: action_query_knowledge_base

  - story: sad path 1
    steps:
    - intent: greet
    - action: utter_greet
    - intent: mood_unhappy
    - action: utter_cheer_up
    - action: utter_did_that_help
    - intent: affirm
    - action: utter_happy

  - story: sad path 2
    steps:
    - intent: greet
    - action: utter_greet
    - intent: mood_unhappy
    - action: utter_cheer_up
    - action: utter_did_that_help
    - intent: deny
    - action: utter_goodbye

  - story: say goodbye
    steps:
     - intent: goodbye
     - action: utter_goodbye

  - story: bot challenge
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - story: bot challenge 2
    steps:
      - intent: greet
      - action: utter_greet
      - intent: bot_challenge
      - action: utter_iamabot
      - intent: demand_joke
      - action: utter_joke
      - intent: confirm_exists
      - action: action_check_existence

  - story: bargain 1
    steps:
      - intent: set_prices
        entities:
        - min_price: 290
        - max_price: 700
      - slot_was_set:
        - min_price: 290
        - max_price: 700
      - action: utter_ask_initial_offer
      - intent: user_counter_offer
        entities:
        - user_offer: 500
      - slot_was_set:
        - user_offer: 500
      - action: action_counter_offer
      - action: utter_ask_accept_offer
      - intent: user_reply_offer
        entities:
        - accept_offer: Y
      - action: action_reject_accept_offer

  - story: bargain 2
    steps:
      - intent: set_prices
        entities:
        - min_price: 290
        - max_price: 700
      - slot_was_set:
        - min_price: 290
        - max_price: 700
      - action: utter_ask_initial_offer
      - intent: user_counter_offer
        entities:
        - user_offer: 500
      - slot_was_set:
        - user_offer: 500
      - action: action_counter_offer
      - action: utter_ask_accept_offer
      - intent: user_reply_offer
        entities:
        - accept_offer: N
      - action: action_reject_accept_offer
      - intent: user_counter_offer
        entities:
        - user_offer: 500
      - slot_was_set:
        - user_offer: 500
      - action: action_counter_offer
      - action: utter_ask_accept_offer

